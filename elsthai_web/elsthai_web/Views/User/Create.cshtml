@model elsthai_web.Models.User;
@{
    ViewBag.Title = "Create";

}
<!DOCTYPE html>
<html>
<head>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Bai Jamjuree', sans-serif;
        }

        input[type=text], select, textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ccc;
            border-radius: 4px;
            resize: vertical;
        }

        label {
            padding: 12px 12px 12px 0;
            display: inline-block;
        }

        input[type=submit] {
            width: 50%;
            background-color: #4CAF50;
            color: white;
            padding: 14px 20px;
            margin: 8px 0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }

            input[type=submit]:hover {
                background-color: #45a049;
            }

        .container {
            border-radius: 5px;
            background-color: #f2f2f2;
            padding: 20px;
        }

        .col-25 {
            float: left;
            width: 15%;
            margin-top: 6px;
        }

        .col-75 {
            float: left;
            width: 75%;
            margin-top: 6px;
        }

        .col-80 {
            float: left;
            width: 10%;
            margin-top: 6px;
        }

        .col-85 {
            float: left;
            width: 30%;
            margin-top: 6px;
        }
        /* Clear floats after the columns */
        .row:after {
            content: "";
            display: table;
            clear: both;
        }
    </style>
</head>
<body>
    <link href="https://fonts.googleapis.com/css2?family=Bai+Jamjuree&display=swap" rel="stylesheet">
    <br>
    <h2>เพิ่ม ผู้ใช้งาน</h2>

    <div class="container">
            <div class="row">

            </div>
            <div class="row">
                <div class="col-25">
                    <label for="fname">ชื่อ-นามสกุล</label>
                </div>
                <div class="col-80">
                    <input type="text" id="name" name="name" value="" placeholder="ชื่อ-นามสกุล">
                </div>
            </div>
            <div class="row">
                <div class="col-25">
                    <label for="fname">เบอร์โทร</label>
                </div>
                <div class="col-80">
                    <input type="text" id="phone" name="phone" value="" placeholder="08XXXXXXXX">
                </div>
            </div>
            <div class="row">
                <div class="col-25">
                    <label for="subject">อีเมล</label>
                </div>
                <div class="col-75">

                    <input type="text" id="email" name="email" value="" placeholder="test@gmail.com">
                </div>
            </div>
            <div class="row">
                <div class="col-25">
                    <label for="subject">รหัสผ่าน</label>
                </div>
                <div class="col-75">
                    <input type="password" id="password_user" name="password_user" value="" placeholder="**********">
                    <input type="hidden" id="isdelete" name="isdelete" value="0">
                </div>
            </div>
            <div class="form-group row">

                <div class="col-sm-10">
                    <button id="BtnCreate">Create</button>
                </div>
            </div>
 
    </div>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-firestore.js"></script>
    <script>
        //ประกาศตัวแปรรับค่า
       
        
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyDAmC5P4Yz1AA1fsZs_vkFmOvkkRoU2u7Y",
            authDomain: "kcs-database.firebaseapp.com",
            databaseURL: "https://kcs-database.firebaseio.com",
            projectId: "kcs-database",
            storageBucket: "kcs-database.appspot.com",
            messagingSenderId: "942140079361",
            appId: "1:942140079361:web:d06709c7bafe9440c2ef00",
            measurementId: "G-63XXEQFVS1"
        };


        firebase.initializeApp(firebaseConfig);
        let firestore = firebase.firestore()
        let idemail = email;
        ////
        function Create() {
            var name = document.getElementById('name').value;
            var phone = document.getElementById('phone').value;
            var email = document.getElementById('email').value;
            var password_user = document.getElementById('password_user').value;
            console.log("1  ");
            console.log(name, phone, email, password_user);


            firestore.collection("userProfile").doc(email).set({ 
                birth: "000",
                email: email,
                name: name,
                pass: password_user,
                phone: phone
            }).then(function (doc) {

                console.info(doc.email)
                alert("Saved successfully");
                window.location.href = "/user/index";
            }).catch(function (error) {
                alert("Saved successfully");
                window.location.href = "/user/index";

                console.error(error)
                alert("Saved successfully");
                window.location.href = "/user/index";
            });
        }

        document.getElementById('BtnCreate').onclick = function () {
            Create();
        }


        
    </script>
</body>
</html>



